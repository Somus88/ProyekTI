<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    xmlns:sec="http://www.thymeleaf.org">
<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    xmlns:sec="http://www.thymeleaf.org">

<head th:replace="fragments/head.html :: head" />

<body class="text-gray-900">
    <nav th:replace="fragments/layout :: header"></nav>

    <div class="container max-w-xl mx-auto my-8 px-4">
        <!-- Logo Section -->
        <div class="flex justify-center mb-6">
            <img th:src="@{/images/Logo klinik agus mantri 4.png}" alt="Klinik Agus Mantri Logo"
                class="w-[150px] h-[150px]">
        </div>

        <h1 class="text-2xl font-bold mb-6 text-center">Tambah Pasien</h1>

        <form role="form" method="post" th:action="@{/staff/patients}" th:object="${patient}">
            <div class="mb-4">
                <label for="name" class="block text-sm font-bold mb-2">Nama</label>
                <input type="text" id="name" th:field="*{name}" class="w-full px-3 py-2 border rounded"
                    style="border-color: #00B5E2;" placeholder="Nama Pasien" required>
                <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-4">
                <label for="email" class="block text-sm font-bold mb-2">Email</label>
                <input type="email" id="email" th:field="*{email}" class="w-full px-3 py-2 border rounded"
                    style="border-color: #00B5E2;" placeholder="patient@example.com" required>
                <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-red-500 text-xs italic"></p>
            </div>

            <div class="grid grid-cols-2 gap-4 mb-4">
                <div>
                    <label for="age" class="block text-sm font-bold mb-2">Umur</label>
                    <input type="number" id="age" th:field="*{age}" class="w-full px-3 py-2 border rounded"
                        style="border-color: #00B5E2;" required>
                    <p th:if="${#fields.hasErrors('age')}" th:errors="*{age}" class="text-red-500 text-xs italic"></p>
                </div>
                <div>
                    <label for="dob" class="block text-sm font-bold mb-2">Tanggal Lahir</label>
                    <input type="date" id="dob" th:field="*{dob}" class="w-full px-3 py-2 border rounded"
                        style="border-color: #00B5E2;" required>
                    <p th:if="${#fields.hasErrors('dob')}" th:errors="*{dob}" class="text-red-500 text-xs italic"></p>
                </div>
            </div>

            <div class="mb-4">
                <label for="gender" class="block text-sm font-bold mb-2">Gender</label>
                <select id="gender" th:field="*{gender}" class="w-full px-3 py-2 border rounded"
                    style="border-color: #00B5E2;" required>
                    <option value="">Pilih Kelamin</option>
                    <option value="Male">Laki-laki</option>
                    <option value="Female">Perempuan</option>
                </select>
                <p th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}" class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-4">
                <label for="address" class="block text-sm font-bold mb-2">Alamat</label>
                <textarea id="address" th:field="*{address}" class="w-full px-3 py-2 border rounded"
                    style="border-color: #00B5E2;" required></textarea>
                <p th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class="text-red-500 text-xs italic">
                </p>
            </div>

            <div class="grid grid-cols-2 gap-4 mb-4">
                <div>
                    <label for="idNumber" class="block text-sm font-bold mb-2">Nomor KTP</label>
                    <input type="text" id="idNumber" th:field="*{idNumber}" class="w-full px-3 py-2 border rounded"
                        style="border-color: #00B5E2;" required>
                    <p th:if="${#fields.hasErrors('idNumber')}" th:errors="*{idNumber}"
                        class="text-red-500 text-xs italic"></p>
                </div>
                <div>
                    <label for="phoneNumber" class="block text-sm font-bold mb-2">Nomor Telepon</label>
                    <input type="text" id="phoneNumber" th:field="*{phoneNumber}"
                        class="w-full px-3 py-2 border rounded" style="border-color: #00B5E2;" required>
                    <p th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}"
                        class="text-red-500 text-xs italic"></p>
                </div>
            </div>

            <div class="mb-4">
                <label for="healthIssue" class="block text-sm font-bold mb-2">Keluhan</label>
                <textarea id="healthIssue" th:field="*{healthIssue}" class="w-full px-3 py-2 border rounded"
                    style="border-color: #00B5E2;" required></textarea>
                <p th:if="${#fields.hasErrors('healthIssue')}" th:errors="*{healthIssue}"
                    class="text-red-500 text-xs italic"></p>
            </div>

            <div class="mb-4">
                <label for="medicationAllergies" class="block text-sm font-bold mb-2">Alergi Obat
                    (Optional)</label>
                <input type="text" id="medicationAllergies" th:field="*{medicationAllergies}"
                    class="w-full px-3 py-2 border rounded" style="border-color: #00B5E2;">
            </div>

            <div class="mb-4">
                <label for="bpjsNumber" class="block text-sm font-bold mb-2">Nomor BPJS (Optional)</label>
                <input type="text" id="bpjsNumber" th:field="*{bpjsNumber}" class="w-full px-3 py-2 border rounded"
                    style="border-color: #00B5E2;">
            </div>

            <div class="mb-4">
                <label for="doctor" class="block text-sm font-bold mb-2">Pilih Dokter</label>
                <select id="doctor" th:field="*{doctorId}" class="w-full px-3 py-2 border rounded"
                    style="border-color: #00B5E2;" required>
                    <option value="">Pilih Dokter</option>
                    <option th:each="doc : ${doctors}" th:value="${doc.id}"
                        th:text="${doc.name + ' (' + doc.specialization.name + ')'}"></option>
                </select>
                <p th:if="${#fields.hasErrors('doctorId')}" th:errors="*{doctorId}" class="text-red-500 text-xs italic">
                </p>
            </div>

            <div class="flex items-center justify-between mt-6">
                <a th:href="@{/}" class="text-gray-600 hover:text-gray-800">Cancel</a>
                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">Booking
                    Pasien Baru</button>
            </div>
        </form>
    </div>
</body>

</html>